(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{701:function(e,t,a){"use strict";a.r(t);var o=a(1),s=Object(o.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"join-the-cosmos-hub-mainnet"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#join-the-cosmos-hub-mainnet"}},[e._v("#")]),e._v(" Join the Cosmos Hub Mainnet")]),e._v(" "),a("blockquote",[a("p",[e._v("Note: The current mainnet ("),a("code",[e._v("cosmoshub-4")]),e._v(") has performed the first "),a("a",{attrs:{href:"https://docs.cosmos.network/v0.43/architecture/adr-041-in-place-store-migrations.html#adr-041-in-place-store-migrations",target:"_blank",rel:"noopener noreferrer"}},[e._v("in-place store migration"),a("OutboundLink")],1),e._v(" upgrade. That means that an "),a("a",{attrs:{href:"https://wallet.keplr.app/#/cosmoshub/governance?detailId=51",target:"_blank",rel:"noopener noreferrer"}},[e._v("upgrade proposal"),a("OutboundLink")],1),e._v(" was passed to start using the "),a("a",{attrs:{href:""}},[e._v("v5.0.0")]),e._v(" release of the gaia node. As a result the "),a("a",{attrs:{href:"https://github.com/cosmos/gaia/releases/tag/v4.2.1",target:"_blank",rel:"noopener noreferrer"}},[e._v("v4.2.1"),a("OutboundLink")],1),e._v(" version of the gaia node would panic and stop at block "),a("a",{attrs:{href:"https://github.com/cosmos/gaia/blob/main/docs/migration/cosmoshub-4-delta-upgrade.md#Upgrade-will-take-place-July-12,-2021",target:"_blank",rel:"noopener noreferrer"}},[e._v("6910000"),a("OutboundLink")],1),e._v(". At that point node operators installed the "),a("a",{attrs:{href:"https://github.com/cosmos/gaia/releases/tag/v5.0.5",target:"_blank",rel:"noopener noreferrer"}},[e._v("v5.0.5"),a("OutboundLink")],1),e._v(" version of the gaia node and then started the node again. This type of upgrade preserves the same "),a("code",[e._v("chain-id")]),e._v(" but is otherwise similar to a traditional hub upgrade, meaning historical state is lost after the upgrade takes place (still accessible of course by a v4.2.1 full node).")]),e._v(" "),a("p",[a("strong",[e._v("In order to sync a gaia node from genesis the upgrade process outline above and "),a("a",{attrs:{href:"https://github.com/cosmos/mainnet",target:"_blank",rel:"noopener noreferrer"}},[e._v("in more detail here"),a("OutboundLink")],1),e._v(" will need to take place.")])]),e._v(" "),a("p",[a("em",[e._v("To quickly sync a Cosmos Hub node it's recommended that you use the "),a("a",{attrs:{href:"https://cosmos.quicksync.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("cosmos.quicksync.io"),a("OutboundLink")],1),e._v(" snapshots.")])])]),e._v(" "),a("h2",{attrs:{id:"quickstart"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#quickstart"}},[e._v("#")]),e._v(" Quickstart")]),e._v(" "),a("p",[a("strong",[e._v("Get Ready")])]),e._v(" "),a("p",[e._v("This Quickstart tutorial completes the following actions:")]),e._v(" "),a("ul",[a("li",[e._v("Ensure that you have "),a("RouterLink",{attrs:{to:"/gaia-tutorials/installation.html"}},[e._v("compilation prerequisites")])],1),e._v(" "),a("li",[e._v("Compile gaia")]),e._v(" "),a("li",[e._v("Give your node a moniker and configure it")]),e._v(" "),a("li",[e._v("Download compressed genesis state")]),e._v(" "),a("li",[e._v("Put the "),a("code",[e._v("genesis.json")]),e._v(" file in the correct location")])]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Z2l0IGNsb25lIC1iIHY0LjIuMSBodHRwczovL2dpdGh1Yi5jb20vY29zbW9zL2dhaWEKY2QgZ2FpYQptYWtlIGluc3RhbGwKZ2FpYWQgaW5pdCBjaG9vc2VhbmljZWhhbmRsZQp3Z2V0IGh0dHBzOi8vZ2l0aHViLmNvbS9jb3Ntb3MvbWFpbm5ldC9yYXcvbWFzdGVyL2dlbmVzaXMuY29zbW9zaHViLTQuanNvbi5negpnemlwIC1kIGdlbmVzaXMuY29zbW9zaHViLTQuanNvbi5negptdiBnZW5lc2lzLmNvc21vc2h1Yi00Lmpzb24gfi8uZ2FpYS9jb25maWcvZ2VuZXNpcy5qc29uCg=="}}),e._v(" "),a("p",[a("strong",[e._v("Go")]),e._v("\nStarts Gaia")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Z2FpYWQgc3RhcnQgLS1wMnAuc2VlZHMgYmY4MzI4YjY2ZGNlYjQ5ODdlNWNkOTQ0MzBhZjY2MDQ1ZTU5ODk5ZkBwdWJsaWMtc2VlZC5jb3Ntb3Mudml0d2l0LmNvbToyNjY1NixjZmQ3ODVhNDIyNGM3OTQwZTlhMTBmNmMxYWIyNGMzNDNlOTIzYmVjQDE2NC42OC4xMDcuMTg4OjI2NjU2LGQ3MmIzMDExZWQ0NmQ3ODNlMzY5ZmRmOGFlMjA1NWI5OWExZTUwNzRAMTczLjI0OS41MC4yNToyNjY1NixiYTNiYWNjNzE0ODE3MjE4NTYyZjc0MzE3ODIyOGYyMzY3OGIyODczQHB1YmxpYy1zZWVkLW5vZGUuY29zbW9zaHViLmNlcnR1cy5vbmU6MjY2NTYsM2M3Y2FkNDE1NDk2N2EyOTRiM2JhMWNjNzUyZTQwZTg3Nzk2NDBhZEA4NC4yMDEuMTI4LjExNToyNjY1NiwzNjZhYzg1MjI1NWMzYWM4ZGUxN2UxMWFlOWVjODE0YjhjNjhiZGRiQDUxLjE1Ljk0LjE5NjoyNjY1NiAtLXgtY3Jpc2lzLXNraXAtYXNzZXJ0LWludmFyaWFudHMK"}}),e._v(" "),a("p",[e._v("Now wait until the chain reaches block height 6910000. It will panic and you will see a message like:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"",base64:"RVJSIFVQR1JBREUgJnF1b3Q7R3Jhdml0eS1ERVgmcXVvdDsgTkVFREVEIGF0IGhlaWdodDogNjkxMDAwMDogdjUuMC4wLTQ3NjBjZjFmMTI2NmFjY2VjN2ExMDdmNDQwZDQ2ZDk3MjRjNmZkMDgKCnBhbmljOiBVUEdSQURFICZxdW90O0dyYXZpdHktREVYJnF1b3Q7IE5FRURFRCBhdCBoZWlnaHQ6IDY5MTAwMDA6IHY1LjAuMC00NzYwY2YxZjEyNjZhY2NlYzdhMTA3ZjQ0MGQ0NmQ5NzI0YzZmZDA4Cg=="}}),e._v(" "),a("p",[e._v("Then you should run the following commands:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Z2l0IGNoZWNrb3V0IC1iIHY1LjAuNQptYWtlIGluc3RhbGwKZ2FpYWQgc3RhcnQgLS14LWNyaXNpcy1za2lwLWFzc2VydC1pbnZhcmlhbnRzIC0tcDJwLnNlZWRzIGJmODMyOGI2NmRjZWI0OTg3ZTVjZDk0NDMwYWY2NjA0NWU1OTg5OWZAcHVibGljLXNlZWQuY29zbW9zLnZpdHdpdC5jb206MjY2NTYsY2ZkNzg1YTQyMjRjNzk0MGU5YTEwZjZjMWFiMjRjMzQzZTkyM2JlY0AxNjQuNjguMTA3LjE4ODoyNjY1NixkNzJiMzAxMWVkNDZkNzgzZTM2OWZkZjhhZTIwNTViOTlhMWU1MDc0QDE3My4yNDkuNTAuMjU6MjY2NTYsYmEzYmFjYzcxNDgxNzIxODU2MmY3NDMxNzgyMjhmMjM2NzhiMjg3M0BwdWJsaWMtc2VlZC1ub2RlLmNvc21vc2h1Yi5jZXJ0dXMub25lOjI2NjU2LDNjN2NhZDQxNTQ5NjdhMjk0YjNiYTFjYzc1MmU0MGU4Nzc5NjQwYWRAODQuMjAxLjEyOC4xMTU6MjY2NTYK"}}),e._v(" "),a("p",[e._v("Note:  If your node is unable to connect to any of the seeds listed here, you can find seeds and peers in "),a("a",{attrs:{href:"https://hackmd.io/@KFEZk8oMTz6vBlwADz0M4A/BkKEUOsZu#",target:"_blank",rel:"noopener noreferrer"}},[e._v("this document"),a("OutboundLink")],1),e._v(" maintained by community members, and at "),a("a",{attrs:{href:"https://atlas.cosmos.network/nodes",target:"_blank",rel:"noopener noreferrer"}},[e._v("Atlas"),a("OutboundLink")],1),e._v(", which is automatically generated by crawling the network.")]),e._v(" "),a("p",[e._v("To save those seeds to your settings, put the comma-separated list format seeds in "),a("code",[e._v("~/.gaia/config/config.toml")]),e._v(" in the p2p section under seeds.")]),e._v(" "),a("h2",{attrs:{id:"manual-setup-of-a-new-node"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#manual-setup-of-a-new-node"}},[e._v("#")]),e._v(" Manual Setup of a new Node")]),e._v(" "),a("p",[e._v("These instructions are for setting up a brand new full node from scratch.")]),e._v(" "),a("p",[e._v("Make sure to have the "),a("RouterLink",{attrs:{to:"/gaia-tutorials/join-mainnet.html"}},[e._v("latest gaia version installed")]),e._v(".\nFirst, initialize the node.")],1),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Z2FpYWQgaW5pdCAmbHQ7eW91cl9jdXN0b21fbW9uaWtlciZndDsK"}}),e._v(" "),a("p",[a("strong",[e._v("Note")]),e._v("\nMonikers can contain only ASCII characters. Using Unicode characters is not supported and renders your node unreachable.")]),e._v(" "),a("p",[e._v("By default, the "),a("code",[e._v("init")]),e._v(" command creates your "),a("code",[e._v("~/.gaia")]),e._v(" directory with subfolders "),a("code",[e._v("config")]),e._v(" and "),a("code",[e._v("data")]),e._v(".\nIn the "),a("code",[e._v("config")]),e._v(" directory, the most important files for configuration are "),a("code",[e._v("app.toml")]),e._v(" and "),a("code",[e._v("config.toml")]),e._v(".")]),e._v(" "),a("p",[e._v("You can edit the "),a("code",[e._v("moniker")]),e._v(" in the "),a("code",[e._v("~/.gaia/config/config.toml")]),e._v(" file:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"toml",base64:"IyBBIGN1c3RvbSBodW1hbiByZWFkYWJsZSBuYW1lIGZvciB0aGlzIG5vZGUKbW9uaWtlciA9ICZxdW90OyZsdDt5b3VyX2N1c3RvbV9tb25pa2VyJmd0OyZxdW90Owo="}}),e._v(" "),a("p",[e._v("For optimized node performance, edit the "),a("code",[e._v("~/.gaia/config/app.toml")]),e._v(" file to enable the anti-spam mechanism and reject incoming transactions with less than the minimum gas prices:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"",base64:"IyBUaGlzIGlzIGEgVE9NTCBjb25maWcgZmlsZS4KIyBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS90b21sLWxhbmcvdG9tbAoKIyMjIyMgbWFpbiBiYXNlIGNvbmZpZyBvcHRpb25zICMjIyMjCgojIFRoZSBtaW5pbXVtIGdhcyBwcmljZXMgYSB2YWxpZGF0b3IgaXMgd2lsbGluZyB0byBhY2NlcHQgZm9yIHByb2Nlc3NpbmcgYQojIHRyYW5zYWN0aW9uLiBBIHRyYW5zYWN0aW9uJ3MgZmVlcyBtdXN0IG1lZXQgdGhlIG1pbmltdW0gb2YgYW55IGRlbm9taW5hdGlvbgojIHNwZWNpZmllZCBpbiB0aGlzIGNvbmZpZyAoZm9yIGV4YW1wbGUsIDEwdWF0b20pLgoKbWluaW11bS1nYXMtcHJpY2VzID0gJnF1b3Q7MC4wMDI1dWF0b20mcXVvdDsK"}}),e._v(" "),a("p",[e._v("Your full node has been initialized!")]),e._v(" "),a("h2",{attrs:{id:"genesis-seeds"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#genesis-seeds"}},[e._v("#")]),e._v(" Genesis & Seeds")]),e._v(" "),a("h3",{attrs:{id:"copy-the-genesis-file"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#copy-the-genesis-file"}},[e._v("#")]),e._v(" Copy the Genesis File")]),e._v(" "),a("p",[e._v("Fetch the mainnet's "),a("code",[e._v("genesis.json")]),e._v(" file into "),a("code",[e._v("gaiad")]),e._v("'s config directory.")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"bWtkaXIgLXAgJEhPTUUvLmdhaWEvY29uZmlnCndnZXQgaHR0cHM6Ly9naXRodWIuY29tL2Nvc21vcy9tYWlubmV0L3Jhdy9tYXN0ZXIvZ2VuZXNpcy5jb3Ntb3NodWItNC5qc29uLmd6Cmd6aXAgLWQgZ2VuZXNpcy5jb3Ntb3NodWItNC5qc29uLmd6Cm12IGdlbmVzaXMuY29zbW9zaHViLTQuanNvbiAkSE9NRS8uZ2FpYS9jb25maWcK"}}),e._v(" "),a("p",[e._v("If you want to connect to the public testnet instead, click "),a("RouterLink",{attrs:{to:"/gaia-tutorials/join-testnet.html"}},[e._v("here")])],1),e._v(" "),a("p",[e._v("To verify the correctness of the configuration run:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Z2FpYWQgc3RhcnQK"}}),e._v(" "),a("h3",{attrs:{id:"add-seed-nodes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#add-seed-nodes"}},[e._v("#")]),e._v(" Add Seed Nodes")]),e._v(" "),a("p",[e._v("Your node needs to know how to find peers. You'll need to add healthy seed nodes to "),a("code",[e._v("$HOME/.gaia/config/config.toml")]),e._v(". The "),a("a",{attrs:{href:"https://github.com/cosmos/launch",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("launch")]),a("OutboundLink")],1),e._v(" repo contains links to some seed nodes.")]),e._v(" "),a("p",[e._v("If those seeds aren't working, you can find more seeds and persistent peers on a Cosmos Hub explorer (a list can be found on the "),a("a",{attrs:{href:"https://cosmos.network/launch",target:"_blank",rel:"noopener noreferrer"}},[e._v("launch page"),a("OutboundLink")],1),e._v(").")]),e._v(" "),a("h2",{attrs:{id:"a-note-on-gas-and-fees"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#a-note-on-gas-and-fees"}},[e._v("#")]),e._v(" A Note on Gas and Fees")]),e._v(" "),a("p",[e._v("On Cosmos Hub mainnet, the accepted denom is "),a("code",[e._v("uatom")]),e._v(", where "),a("code",[e._v("1atom = 1.000.000uatom")])]),e._v(" "),a("p",[e._v("Transactions on the Cosmos Hub network need to include a transaction fee in order to be processed. This fee pays for the gas required to run the transaction. The formula is the following:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"",base64:"ZmVlcyA9IGNlaWwoZ2FzICogZ2FzUHJpY2VzKQo="}}),e._v(" "),a("p",[e._v("The "),a("code",[e._v("gas")]),e._v(" is dependent on the transaction. Different transaction require different amount of "),a("code",[e._v("gas")]),e._v(". The "),a("code",[e._v("gas")]),e._v(" amount for a transaction is calculated as it is being processed, but there is a way to estimate it beforehand by using the "),a("code",[e._v("auto")]),e._v(" value for the "),a("code",[e._v("gas")]),e._v(" flag. Of course, this only gives an estimate. You can adjust this estimate with the flag "),a("code",[e._v("--gas-adjustment")]),e._v(" (default "),a("code",[e._v("1.0")]),e._v(") if you want to be sure you provide enough "),a("code",[e._v("gas")]),e._v(" for the transaction.")]),e._v(" "),a("p",[e._v("The "),a("code",[e._v("gasPrice")]),e._v(" is the price of each unit of "),a("code",[e._v("gas")]),e._v(". Each validator sets a "),a("code",[e._v("min-gas-price")]),e._v(" value, and will only include transactions that have a "),a("code",[e._v("gasPrice")]),e._v(" greater than their "),a("code",[e._v("min-gas-price")]),e._v(".")]),e._v(" "),a("p",[e._v("The transaction "),a("code",[e._v("fees")]),e._v(" are the product of "),a("code",[e._v("gas")]),e._v(" and "),a("code",[e._v("gasPrice")]),e._v(". As a user, you have to input 2 out of 3. The higher the "),a("code",[e._v("gasPrice")]),e._v("/"),a("code",[e._v("fees")]),e._v(", the higher the chance that your transaction will get included in a block.")]),e._v(" "),a("p",[e._v("For mainnet, the recommended "),a("code",[e._v("gas-prices")]),e._v(" is "),a("code",[e._v("0.0025uatom")]),e._v(".")]),e._v(" "),a("h2",{attrs:{id:"set-minimum-gas-prices"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#set-minimum-gas-prices"}},[e._v("#")]),e._v(" Set "),a("code",[e._v("minimum-gas-prices")])]),e._v(" "),a("p",[e._v("Your full-node keeps unconfirmed transactions in its mempool. In order to protect it from spam, it is better to set a "),a("code",[e._v("minimum-gas-prices")]),e._v(" that the transaction must meet in order to be accepted in your node's mempool. This parameter can be set in the following file "),a("code",[e._v("~/.gaia/config/app.toml")]),e._v(".")]),e._v(" "),a("p",[e._v("The initial recommended "),a("code",[e._v("min-gas-prices")]),e._v(" is "),a("code",[e._v("0.0025uatom")]),e._v(", but you might want to change it later.")]),e._v(" "),a("h2",{attrs:{id:"pruning-of-state"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pruning-of-state"}},[e._v("#")]),e._v(" Pruning of State")]),e._v(" "),a("p",[e._v("There are four strategies for pruning state. These strategies apply only to state and do not apply to block storage.\nTo set pruning, adjust the "),a("code",[e._v("pruning")]),e._v(" parameter in the "),a("code",[e._v("~/.gaia/config/app.toml")]),e._v(" file.\nThe following pruning state settings are available:")]),e._v(" "),a("ol",[a("li",[a("code",[e._v("everything")]),e._v(": Prune all saved states other than the current state.")]),e._v(" "),a("li",[a("code",[e._v("nothing")]),e._v(": Save all states and delete nothing.")]),e._v(" "),a("li",[a("code",[e._v("default")]),e._v(": Save the last 100 states and the state of every 10,000th block.")]),e._v(" "),a("li",[a("code",[e._v("custom")]),e._v(": Specify pruning settings with the "),a("code",[e._v("pruning-keep-recent")]),e._v(", "),a("code",[e._v("pruning-keep-every")]),e._v(", and "),a("code",[e._v("pruning-interval")]),e._v(" parameters.")])]),e._v(" "),a("p",[e._v("By default, every node is in "),a("code",[e._v("default")]),e._v(" mode which is the recommended setting for most environments.\nIf you would like to change your nodes pruning strategy then you must do so when the node is initialized. Passing a flag when starting "),a("code",[e._v("gaia")]),e._v(" will always override settings in the "),a("code",[e._v("app.toml")]),e._v(" file, if you would like to change your node to the "),a("code",[e._v("everything")]),e._v(" mode then you can pass the "),a("code",[e._v("---pruning everything")]),e._v(" flag when you call "),a("code",[e._v("gaiad start")]),e._v(".")]),e._v(" "),a("blockquote",[a("p",[e._v("Note: When you are pruning state you will not be able to query the heights that are not in your store.")])]),e._v(" "),a("h2",{attrs:{id:"run-a-full-node"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#run-a-full-node"}},[e._v("#")]),e._v(" Run a Full Node")]),e._v(" "),a("p",[e._v("Start the full node with this command:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Z2FpYWQgc3RhcnQK"}}),e._v(" "),a("p",[e._v("Check that everything is running smoothly:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Z2FpYWQgc3RhdHVzCg=="}}),e._v(" "),a("p",[e._v("View the status of the network with the "),a("a",{attrs:{href:"https://cosmos.network/launch",target:"_blank",rel:"noopener noreferrer"}},[e._v("Cosmos Explorer"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("h2",{attrs:{id:"enable-the-rest-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#enable-the-rest-api"}},[e._v("#")]),e._v(" Enable the REST API")]),e._v(" "),a("p",[e._v("By default, the REST API is disabled. To enable the REST API, edit the "),a("code",[e._v("~/.gaia/config/app.toml")]),e._v(" file, and set "),a("code",[e._v("enable")]),e._v(" to "),a("code",[e._v("true")]),e._v(" in the "),a("code",[e._v("[api]")]),e._v(" section.")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"toml",base64:"IyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwojIyMgICAgICAgICAgICAgICAgICAgICAgICAgICBBUEkgQ29uZmlndXJhdGlvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIyMjCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKW2FwaV0KIyBFbmFibGUgZGVmaW5lcyBpZiB0aGUgQVBJIHNlcnZlciBzaG91bGQgYmUgZW5hYmxlZC4KZW5hYmxlID0gdHJ1ZQojIFN3YWdnZXIgZGVmaW5lcyBpZiBzd2FnZ2VyIGRvY3VtZW50YXRpb24gc2hvdWxkIGF1dG9tYXRpY2FsbHkgYmUgcmVnaXN0ZXJlZC4Kc3dhZ2dlciA9IGZhbHNlCiMgQWRkcmVzcyBkZWZpbmVzIHRoZSBBUEkgc2VydmVyIHRvIGxpc3RlbiBvbi4KYWRkcmVzcyA9ICZxdW90O3RjcDovLzAuMC4wLjA6MTMxNyZxdW90Owo="}}),e._v(" "),a("p",[e._v("Optionally, you can activate swagger by setting "),a("code",[e._v("swagger")]),e._v(" to "),a("code",[e._v("true")]),e._v(" or change the port of the REST API in the parameter "),a("code",[e._v("address")]),e._v(".\nAfter restarting your application, you can access the REST API on "),a("code",[e._v("YOURNODEIP:1317")]),e._v(".")]),e._v(" "),a("h2",{attrs:{id:"grpc-configuration"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#grpc-configuration"}},[e._v("#")]),e._v(" GRPC Configuration")]),e._v(" "),a("p",[e._v("By default, gRPC is enabled on port "),a("code",[e._v("9090")]),e._v(". In the "),a("code",[e._v("~/.gaia/config/app.toml")]),e._v(" file, you can make changes in the gRPC section. To disable the gRPC endpoint, set "),a("code",[e._v("enable")]),e._v(" to "),a("code",[e._v("false")]),e._v(". To change the port, use the "),a("code",[e._v("address")]),e._v(" parameter.")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"toml",base64:"IyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIwojIyMgICAgICAgICAgICAgICAgICAgICAgICAgICBnUlBDIENvbmZpZ3VyYXRpb24gICAgICAgICAgICAgICAgICAgICAgICAgICAgIyMjCiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMKW2dycGNdCiMgRW5hYmxlIGRlZmluZXMgaWYgdGhlIGdSUEMgc2VydmVyIHNob3VsZCBiZSBlbmFibGVkLgplbmFibGUgPSB0cnVlCiMgQWRkcmVzcyBkZWZpbmVzIHRoZSBnUlBDIHNlcnZlciBhZGRyZXNzIHRvIGJpbmQgdG8uCmFkZHJlc3MgPSAmcXVvdDswLjAuMC4wOjkwOTAmcXVvdDsK"}}),e._v(" "),a("h2",{attrs:{id:"upgrades"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#upgrades"}},[e._v("#")]),e._v(" Upgrades")]),e._v(" "),a("p",[e._v("To be best prepared for eventual upgrades, it is recommended to setup "),a("a",{attrs:{href:"https://docs.cosmos.network/master/run-node/cosmovisor.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Cosmovisor"),a("OutboundLink")],1),e._v(", a small process manager,  which can swap in new "),a("code",[e._v("gaiad")]),e._v(" binaries. Read more about setting this up "),a("RouterLink",{attrs:{to:"/gaia-tutorials/upgrade-node.html"}},[e._v("here")]),e._v(".")],1),e._v(" "),a("h2",{attrs:{id:"background-process"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#background-process"}},[e._v("#")]),e._v(" Background Process")]),e._v(" "),a("p",[e._v("To run the node in a background process with automatic restarts, you can use a service manager like "),a("code",[e._v("systemd")]),e._v(". To set this up run the following:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"c3VkbyB0ZWUgL2V0Yy9zeXN0ZW1kL3N5c3RlbS9nYWlhZC5zZXJ2aWNlICZndDsgL2Rldi9udWxsICZsdDsmbHQ7RU9GICAKW1VuaXRdCkRlc2NyaXB0aW9uPUdhaWEgRGFlbW9uCkFmdGVyPW5ldHdvcmstb25saW5lLnRhcmdldAoKW1NlcnZpY2VdClVzZXI9JFVTRVIKRXhlY1N0YXJ0PSQod2hpY2ggZ2FpYWQpIHN0YXJ0ClJlc3RhcnQ9YWx3YXlzClJlc3RhcnRTZWM9MwpMaW1pdE5PRklMRT00MDk2CgpbSW5zdGFsbF0KV2FudGVkQnk9bXVsdGktdXNlci50YXJnZXQKRU9GCg=="}}),e._v(" "),a("p",[e._v("If you're using Cosmovisor you want to add")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"RW52aXJvbm1lbnQ9JnF1b3Q7REFFTU9OX0hPTUU9JEhPTUUvLmdhaWEmcXVvdDsKRW52aXJvbm1lbnQ9JnF1b3Q7REFFTU9OX05BTUU9Z2FpYWQmcXVvdDsKRW52aXJvbm1lbnQ9JnF1b3Q7REFFTU9OX0FMTE9XX0RPV05MT0FEX0JJTkFSSUVTPWZhbHNlJnF1b3Q7CkVudmlyb25tZW50PSZxdW90O0RBRU1PTl9SRVNUQVJUX0FGVEVSX1VQR1JBREU9dHJ1ZSZxdW90Owo="}}),e._v(" "),a("p",[e._v("after the "),a("code",[e._v("LimitNOFILE")]),e._v(" line and replace "),a("code",[e._v("$(which gaiad)")]),e._v(" with "),a("code",[e._v("$(which cosmovisor)")]),e._v(".")]),e._v(" "),a("p",[e._v("Then setup the daemon")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"c3VkbyAtUyBzeXN0ZW1jdGwgZGFlbW9uLXJlbG9hZApzdWRvIC1TIHN5c3RlbWN0bCBlbmFibGUgZ2FpYWQK"}}),e._v(" "),a("p",[e._v("We can then start the process and confirm that it is running")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"c3VkbyAtUyBzeXN0ZW1jdGwgc3RhcnQgZ2FpYWQKCnN1ZG8gc2VydmljZSBnYWlhZCBzdGF0dXMK"}}),e._v(" "),a("h2",{attrs:{id:"export-state"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#export-state"}},[e._v("#")]),e._v(" Export State")]),e._v(" "),a("p",[e._v("Gaia can dump the entire application state into a JSON file. This application state dump is useful for manual analysis and can also be used as the genesis file of a new network.")]),e._v(" "),a("p",[e._v("Export state with:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Z2FpYWQgZXhwb3J0ICZndDsgW2ZpbGVuYW1lXS5qc29uCg=="}}),e._v(" "),a("p",[e._v("You can also export state from a particular height (at the end of processing the block of that height):")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Z2FpYWQgZXhwb3J0IC0taGVpZ2h0IFtoZWlnaHRdICZndDsgW2ZpbGVuYW1lXS5qc29uCg=="}}),e._v(" "),a("p",[e._v("If you plan to start a new network from the exported state, export with the "),a("code",[e._v("--for-zero-height")]),e._v(" flag:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Z2FpYWQgZXhwb3J0IC0taGVpZ2h0IFtoZWlnaHRdIC0tZm9yLXplcm8taGVpZ2h0ICZndDsgW2ZpbGVuYW1lXS5qc29uCg=="}}),e._v(" "),a("h2",{attrs:{id:"verify-mainnet"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#verify-mainnet"}},[e._v("#")]),e._v(" Verify Mainnet")]),e._v(" "),a("p",[e._v("Help to prevent a catastrophe by running invariants on each block on your full\nnode. In essence, by running invariants you ensure that the state of mainnet is\nthe correct expected state. One vital invariant check is that no atoms are\nbeing created or destroyed outside of expected protocol, however there are many\nother invariant checks each unique to their respective module. Because invariant checks\nare computationally expensive, they are not enabled by default. To run a node with\nthese checks start your node with the assert-invariants-blockly flag:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"Z2FpYWQgc3RhcnQgLS1hc3NlcnQtaW52YXJpYW50cy1ibG9ja2x5Cg=="}}),e._v(" "),a("p",[e._v("If an invariant is broken on your node, your node will panic and prompt you to send\na transaction which will halt mainnet. For example the provided message may look like:")]),e._v(" "),a("tm-code-block",{staticClass:"codeblock",attrs:{language:"bash",base64:"aW52YXJpYW50IGJyb2tlbjoKICAgIGxvb3NlIHRva2VuIGludmFyaWFuY2U6CiAgICAgICAgcG9vbC5Ob3RCb25kZWRUb2tlbnM6IDEwMAogICAgICAgIHN1bSBvZiBhY2NvdW50IHRva2VuczogMTAxCiAgICBDUklUSUNBTCBwbGVhc2Ugc3VibWl0IHRoZSBmb2xsb3dpbmcgdHJhbnNhY3Rpb246CiAgICAgICAgZ2FpYWQgdHggY3Jpc2lzIGludmFyaWFudC1icm9rZW4gc3Rha2luZyBzdXBwbHkKCg=="}}),e._v(" "),a("p",[e._v("When submitting a invariant-broken transaction, transaction fee tokens are not\ndeducted as the blockchain will halt (invariant-broken transactions are free transactions).")])],1)}),[],!1,null,null,null);t.default=s.exports}}]);